=========
Changelog
=========


1.8.16 - 2018-04-26
-------------------

Изменения:

* Добавлено фильтр по оплатам в саммите `issue <https://gitlab.sobsam.com/web/vocrm/issues/8>`_


1.8.15 - 2018-04-26
-------------------

Изменения:

* Исправлена ошибка подачи отчета по домашней группе `issue <https://gitlab.sobsam.com/web/vocrm/issues/7>`_


1.8.14 - 2018-04-26
-------------------

Изменения:

* В статистику по членам домашних групп добавлены графики


1.8.13 - 2018-04-23
-------------------

Изменения:

* Для партнерства добавлен новый статус "Рубиновый"
* Обновлен фильтр по vip статусу в партнерстве


1.8.12 - 2018-04-23
-------------------

Изменения:

* Добавлена статистика по членам домашних групп
* Добавлен фильтр по vip статусу в партнерстве


1.8.11 - 2018-04-20
-------------------

Изменения:

* При трех подряд посещениях/не посешениях домашних групп пользователь помечается стабильным/не стабильным


1.8.10 - 2018-04-18
-------------------

Изменения:

* Вместо code отдается reg_code для api/summit_attends/check_and_send_college_code/


1.8.9 - 2018-04-17
------------------

Изменения:

* Добавлено таски trainee_group_members_deactivate и vip_partners_group_members_deactivate для ботов
* Для /api/app/users/get_tickets/ добавлено поле title
* Отключено автосоздание отчета по Марафону при создании новой Домашней Группы


1.8.8 - 2018-04-17
------------------

Изменения:

* Исправлена ошибка когда request.data была dict'ом


1.8.7 - 2018-04-16
------------------

Изменения:

* Для BotGroup добавлено поле bot_address


1.8.6 - 2018-04-16
------------------

Изменения:

* Удалено логирование в файл


1.8.5 - 2018-04-15
------------------

Изменения:

* Исправлено логирование не авторизированого пользователя


1.8.4 - 2018-04-15
------------------

Изменения:

* Исправлено логирование не авторизированого пользователя
* Исправлено img/no-usr.jpg


1.8.3 - 2018-04-14
------------------

Добавлен деплой в Gitlab CI


1.8.2 - 2018-04-13
------------------

Изменения:

* Отменено формирования отчетов по Домащним группам night
* Добавлено Gitlab CI
* Рефакторинг
* Добавлено поле "Пол" для пользователей
* На фронденде реализовано возможность указывать Пол при создании пользователя
* Добавлено поле "code" в иерархии
* На бекенде добавлено обязательное заполнение "Даты покаяния" для создания/изменения пользователя
  с иерархией "Новообращенный"
* Через 6 месяцев после даты покаяния пользователь с иерархией Новообращенный автоматически повышается до Прихожанин


1.8.1 - 2018-04-05
------------------

Рефакторинг


1.8 - 2018-04-04
----------------

Изменения:

* Перешли на Django 2.0
* Перешли на Webpack 4
* Отказ от dbmail, grappelli и django-celery
* Export выполняется асинхронно
* Добавлено логирование изменение партнеров
* Сайт переведен на https
* Изменена база данных городов
* Добавлено мультипартнерство
* Добавлены планы для менеджеров по партнерству
* Добавлено Партнерские группы
* Добавлено Роли партнеров
* Статика и изображения переведены на aws
* Добавлена возможность назначать менеджеров (скины)
* Добавлена кастомная админка
* Хранение столбцов таблиц для пользователей перенесено на redis
* Добавлен поиск дубликатов сделок
* Добавлены партнерста, сделки и платежи церквей
* Сканер билетов и тд вынесены в отдельные сервисы
* Для домашних групп добавлено фото
* Все время переведено на UTC
* Добавлена возможность входа по id, username
* Добавлена статистика по партнерству церквей
* Добавлена статистика по отчетам церквей
* Добавлены звонки
* Добавлено логирование запросов
* Добавлен раздел помощи
* Добавили авторов регистрации в саммиты
* Добалено api для работы с телеграм ботом
* Добавлено возможность выбора города на карте google


1.7 - 2017-09-04
----------------

Изменения:

* Добавлено отслеживание перемещения посетителей саммита
* Добавлено возможность создания событий для саммита
* В раздел саммитов добавлено фильтр по наличию фотографии у пользователя, по присутствию пользователя на саммите
* Добавлено API по посещаемости саммита
* Билеты на саммит создаются только для пользователей у которых есть фото
* Добавлен статус (напечатано/не напечатано) для билетов на саммит
* Добавлено API для мобильного приложения для получения участников саммита в древовидном виде
* Добавлены pdf отчеты по саммиту
* Добавлена статистика по саммиту
* Добавлена графики по посещению саммита
* Для анкеты саммита добавлено статус (активна/неактивна, был ли запрошен регистрационный код)
* Для статуса анкеты саммита добавленно поле с датой когда был запрошен регистрационный код
* Создание пользователя разделено на два этапа (обязательные поля и дополнительные)
* Добавлена проверка возможности смены ответственного и уровням иерархии
* Добавлена проверка на дубликаты при создании нового пользователя
* Введена валидация номера телефона пользователя, он должен содержать не менее 10 цифр
* Добавлена статистика домашних групп
* Добавлено отчеты домашних групп
* Если у партнера 3+ незакрытых просроченных сделки — он помечается неактивным
* В партнерстве добавлена таблица План по менеджерам
* Метод построения дерева пользователей изменен с NS на MP
* Docker теперь самостоятельно получает ssl сертификат для сайта
* Добавлен главный епископ
* Изменен стиль диалоговых окон на сайте
* Добавлена возможность задавать кто имеет право для входа в CRM, а кто нет
* Добавлено логирование изменений/добавлений пользователя, сделок, платежей,
    добавления и удаления пользователя из саммита, измнения церкви и/или домашней группы пользователя
* На главную страницу добавленно дашборд со статистикой по пользовалелю

1.6.1b - 2017-03-24
-------------------

* Дано возможность редактировать всех пользователей которых ты видишь

1.6 - 2017-03-22
----------------

Изменения:

* Добавленно экспорт для таблиц
* Добавлен фильтр ``is_open`` для таблицы церквей
* Добавена домашняя страница
* Добавлен фильтр для таблиц партнерства, церквей, домашних груп, саммитов
* Добавлен выбор валюты для "денежных" полей
* В API добавлены методы для изменения и удаления платежей
* Удалена страница редактирования пользователя
* В анкете пользователя реализовано поблочное редактирование пользователя
* Добавлна валидация на уникальность полей: ``first_name``, ``last_name``, ``middle_name``, ``phone_number``
* В API добавлнен метод на наличие в базе пользователей с определенными ``last_name``,
    ``email``, ``phone_number``
* Допустимая длина поле для основного телефона увеличена с 13 до 23 символов
* Обновлена статистика по партнерам, теперь она считается по платежам
* Для таблицы пользователей добавлен фильтр по дереву ответственного
* Участников саммита могут видеть только "Консультант+" по саммиту
* Добавлена возможность задания для пользователя нескольких Отделов (department)
* Довавлена возможность изменения своего пароля
* Для таблицы домашних групп добавлен фильтр по дереву ответственного
* Добавлена возможность быстрого редактирования для групп
* Добавлено поля примечания для пользователя
* Удалено быстрое редактирования пользователей

1.5 - 2017-02-13
----------------

Изменения:

* Для пользователя добавлено поле Духовный уровень
* Добавлены группы, церкви
* Сделки для неактивных партнеров больше не создаются
* Сделки, партнерства и статистика по партнерам разнесены на отдельные страницы
* Добавлены платежи и валюты
* Изменена логика работы с доп. телефонами пользователя
* Добавлена возможность работы с websocket'ами
* Исправленны баги

1.4.3b - 2017-01-13
-------------------

Изменено метод для редактирование и создание пользователя, переведено на NewUserViewSet

1.4.1b - 2017-01-12
-------------------

Добавлено возможность создавать и изменять поле search_user для пользователя.

1.4 - 2017-01-12
----------------
Изменения в релизе:

* Добавлены поля code, full_cost и special_cost для Summit
* Добавлено поле code для SummitType
* Админ панель переведена на grappelli
* Создан поиск по имени, email, телефону, стране, городу и фильтр по иерархии, ответственному и отделу на
  странице базы данных
* Добавлено "Быстрое редактирование" в таблице Базы Данных
* В БД добавлено поле "Имя пользователя на родном языке" для поиска по имени
* Отправка email'ов по саммитам переведена на приложение dbmail
* Добавлена документация для разработчиков (начата)
* CustomUser переведен на MPTT
* База данных изменена с mysql на postgres
* Для разработки добавлен django-debug-toolbar
* Добавлены приложения:

  - filebrowser
  - dbmail
  - tinymce

1.3.6b - 2016-12-06
-------------------

Добавленна новая команда load_summit_ankets_photos для выгрузки фотографий участников саммита.

1.3.2f - 2016-12-05
-------------------

Изменения:

* Проведен рефакторинг кода js
* Код переведен на использование jquery
* Поправлен datepicker
* cropper берется из bower

1.3.5b - 2016-12-02
-------------------

В экспорт анкет добавленны поля id и user__middle_name.

1.3.4b - 2016-12-01
-------------------

После логина переадресация идет на страницу Базы Данных вместо Событий.

1.3.3b - 2016-12-01
-------------------

Исправления:

* Для каждой отправки билета он генерируется непосредственно при отправке
* На странице саммита ссылки на саммиты выводятся от позднего к ранним.

1.3.1b - 2016-12-01
-------------------

Исправлено обновление уведомления о дне рождения при изменении даты рождения пользователя.

1.3.1f - 2016-12-01
-------------------

Исправлено  проблему с редактированием изображений