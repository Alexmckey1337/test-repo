{% extends "layout_main.html" %}
{% load static %}

{% block header.top.h1 %}<h1>Отчеты / Церкви</h1>{% endblock %}

{% block header.search %}{% endblock %}

{% block header.buttons.top %}
    <div class="top-buttons-wrap">
        <ul class="top-buttons">
            <li></li>
        </ul>
    </div>
{% endblock %}
{% block header.buttons %}
    {% block header.tabs %}
        <div class="tabs">
            <ul class="nav tabs_link">
                <li><a href="{% url 'events:church_report_list' %}">Отчёты церквей</a></li>
                <li><a class="active" href="{% url 'events:church_report_statistics' %}">Статистика церквей</a></li>
                <li><a href="{% url 'events:report_payments' %}">Таблица платежей</a></li>
                <li><a href="{% url 'events:meeting_report_list' %}">Отчёты домашних групп</a></li>
                <li><a href="{% url 'events:meeting_report_statistics' %}">Статистика домашних групп</a></li>
            </ul>
        </div>
    {% endblock %}
    <div class="top-buttons-wrap">
        <ul class="top-buttons">
            {% block header.buttons.add %}
                <li>

                </li>
            {% endblock %}

            {% block header.buttons.export %}

            {% endblock %}
            {% block header.buttons.extra %}
            {% endblock %}
            {% block header.buttons.change_table %}
            {% endblock %}
        </ul>
    </div>
{% endblock %}

{% block main.content %}
    <div class="container-full content-managerStats">
        <div class="tab-status tab-home-stats">
{#            <button class="range active" data-range="1m">1 мес.</button>#}
            <input id="calendar_range" type="text" readonly>
            <button class="range" data-range="3m">3 мес.</button>
            <button class="range" data-range="6m">6 мес.</button>
            <button class="range range__last_item" data-range="12m">1 год.</button>
            <div class="container prefilter_select">
                <label>
                    <span class="label_block">Ветка</span>
                    <select class="selectdb" data-filter="pastor_tree" id="tree_filter"></select>
                </label>
                <label>
                    <span class="label_block">Пастор</span>
                    <select class="selectdb" data-filter="pastor" id="pastor_filter"></select>
                </label>
                <label>
                    <span class="label_block">Церковь</span>
                    <select class="selectdb" data-filter="church" id="church_filter"></select>
                </label>
            </div>
            <button class="resetFilter">Очистить</button>
        </div>
        {% block pagination_top %}
            <div class="top-pag"></div>
        {% endblock %}

        <div class="charts">
            <div class="chart">
                <canvas id="chart_peoples"></canvas>
            </div>
        </div>

        {% block table %}
            <div class="table-wrap table-wrap_margin clearfix"><!--Table -->
                <div class="table scrollbar-inner" id="tableChRepFinStats"></div>
            </div>
            <div class="charts">
                <div class="chart">
                    <canvas id="chart_finances"></canvas>
                </div>
                <div class="chart">
                    <canvas id="chart_finances_pastor"></canvas>
                </div>
            </div>
            <div id="tab_currency">
                <button class="active" data-curr="all">Все валюты</button>
                <button data-curr="uah">
                    <svg
                            xmlns:dc="http://purl.org/dc/elements/1.1/"
                            xmlns:cc="http://creativecommons.org/ns#"
                            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                            xmlns:svg="http://www.w3.org/2000/svg"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
                            width="auto"
                            height="100%"
                            viewBox="0 0 50.482727 59.538395"
                            version="1.1"
                            id="svg8"
                            inkscape:version="0.92.1 r15371"
                            sodipodi:docname="hrn.svg">

                        <g
                                inkscape:label="Layer 1"
                                inkscape:groupmode="layer"
                                id="layer1"
                                transform="translate(-79.758637,-118.7308)">
                            <g
                                    id="g40"
                                    transform="translate(-163.42415,-101.29762)">
                                <g
                                        id="g44"
                                        transform="translate(133.4256,26.080357)">
                                    <g
                                            id="g48"
                                            transform="translate(29.104157,75.21726)">
                                        <path
                                                sodipodi:nodetypes="ssccccsscccccccscscsscccsscssccssccsccscccccccccssscscsccccccccss"
                                                style="stroke-width:0.04287102"
                                                inkscape:connector-curvature="0"
                                                d="m 85.379479,160.85014 c 0,4.37284 1.421889,8.13835 4.265667,11.29651 2.843778,3.15816 6.537829,5.10879 11.082154,5.85189 3.21137,0.34205 6.00289,0.37923 8.53133,0 1.88632,-0.25723 3.70835,-0.70022 5.46606,-1.32899 1.75771,-0.62878 3.20818,-1.2647 4.35141,-1.90777 1.14322,-0.64306 2.20071,-1.329 3.17245,-2.0578 0.97175,-0.72881 1.63625,-1.2647 1.99351,-1.60767 0.35726,-0.34297 0.60733,-0.6002 0.75024,-0.77168 0.48587,-0.6002 0.51445,-1.18611 0.0857,-1.75771 l -4.41572,-5.78758 c -0.20007,-0.28582 -0.52875,-0.4573 -0.98603,-0.51446 -0.42872,-0.0572 -0.77168,0.0715 -1.0289,0.38583 l -0.0857,0.0857 c -3.22962,2.82949 -6.70217,4.61578 -10.41766,5.35888 -1.05748,0.22865 -2.11497,0.34297 -3.17246,0.34297 -2.31504,0 -4.3514,-0.61449 -6.109116,-1.84346 -1.757711,-1.22897 -2.636566,-2.97239 -2.636566,-5.23026 0,-0.80025 0.214357,-1.55764 0.643061,-2.27217 0.428705,-0.71451 0.907438,-1.31471 1.436181,-1.80057 0.528742,-0.48587 1.364734,-1.02176 2.50796,-1.60767 1.14322,-0.58591 2.08638,-1.04319 2.82948,-1.37188 0.7431,-0.32867 1.88633,-0.79311 3.42969,-1.39331 1.11464,-0.45728 1.99349,-0.81454 2.63656,-1.07177 0.64307,-0.25722 1.52192,-0.63592 2.63657,-1.13608 1.11465,-0.50016 2.0078,-0.94316 2.67944,-1.329 0.67164,-0.38584 1.47904,-0.89315 2.42221,-1.52192 0.94316,-0.62878 1.70769,-1.23611 2.2936,-1.82202 0.5859,-0.58591 1.20753,-1.28613 1.86489,-2.10068 0.65736,-0.81454 1.16466,-1.64339 1.52192,-2.48652 0.35726,-0.84313 0.65735,-1.79344 0.90029,-2.85092 0.24294,-1.05749 0.36441,-2.17214 0.36441,-3.34394 0,-3.94414 -1.40046,-7.4024 -4.20136,-10.37479 -2.80092,-2.97239 -6.44495,-4.88729 -10.93212,-5.74471 -3.21553,-0.55712 -6.28446,-0.4659 -8.53133,-0.17149 -1.629102,0.17149 -3.208184,0.50016 -4.737246,0.98603 -1.529062,0.48587 -2.772322,0.96461 -3.729779,1.43618 -0.957457,0.47158 -1.864894,1.00747 -2.722313,1.60767 -0.857419,0.6002 -1.414733,1.01461 -1.671964,1.24326 -0.25723,0.22865 -0.471588,0.42871 -0.643071,0.6002 -0.485869,0.51445 -0.557315,1.05747 -0.214347,1.62909 l 3.472548,6.25917 c 0.228648,0.4287 0.557324,0.65734 0.986039,0.68592 0.400122,0.0857 0.785963,-0.0143 1.157512,-0.30009 0.08573,-0.0857 0.292949,-0.25722 0.621635,-0.51444 0.328677,-0.25723 0.886001,-0.63593 1.671964,-1.13609 0.785963,-0.50016 1.621955,-0.95745 2.507956,-1.37188 0.886001,-0.41442 1.950631,-0.78597 3.193896,-1.11465 1.24326,-0.32866 2.46508,-0.493 3.66546,-0.493 2.71517,0 4.93017,0.61448 6.64502,1.84344 1.71483,1.22897 2.57225,2.8152 2.57225,4.75869 0,0.7431 -0.12146,1.42903 -0.3644,2.0578 -0.24293,0.62878 -0.6645,1.22182 -1.2647,1.77915 -0.60019,0.55732 -1.16466,1.0289 -1.6934,1.41474 -0.52874,0.38584 -1.32899,0.82885 -2.40077,1.32901 -1.07178,0.50016 -1.93634,0.886 -2.5937,1.15751 -0.65736,0.27152 -1.65768,0.66451 -3.00097,1.17896 -1.51477,0.57162 -2.672299,1.02176 -3.472553,1.35043 -0.800264,0.32868 -1.886331,0.82884 -3.258201,1.50048 -1.37187,0.67166 -2.450791,1.27899 -3.236764,1.82202 -0.785963,0.54304 -1.671964,1.25756 -2.658003,2.14356 -0.986029,0.886 -1.74342,1.79344 -2.272162,2.72231 -0.528743,0.92887 -0.978884,2.02208 -1.350433,3.27963 -0.37155,1.25756 -0.557325,2.60086 -0.557325,4.02988 z"
                                                id="path10"/>
                                        <path
                                                inkscape:connector-curvature="0"
                                                id="path21"
                                                d="m 82.458912,139.40895 c -0.526632,0 -0.95907,0.11838 -1.29761,0.35553 -0.338537,0.23715 -0.508272,0.54008 -0.508272,0.90899 v 4.50618 c 0,0.36891 0.169735,0.67184 0.508272,0.90898 0.33854,0.23716 0.770978,0.35606 1.29761,0.35606 h 2.297187 v -0.001 h 19.548961 v 5.1e-4 h 23.63139 c 1.01564,0 1.6178,-0.34221 1.80587,-1.02733 l 1.35441,-4.50619 c 0.11292,-0.36891 -0.0193,-0.71163 -0.3954,-1.02784 -0.33854,-0.31621 -0.80862,-0.47387 -1.41047,-0.47387 h -26.4066 -14.895571 z m 4.225527,11.17916 c -0.170649,0.001 -0.326681,0.007 -0.501636,0.007 h -3.723891 c -0.489012,0 -0.912222,0.12484 -1.269577,0.37517 -0.357354,0.25033 -0.536305,0.5468 -0.536305,0.88935 v 4.46639 c 0,0.34255 0.178951,0.63902 0.536305,0.88935 0.357355,0.25034 0.780565,0.37569 1.269577,0.37569 h 5.360106 15.290972 21.83657 c 0.41377,0 0.78938,-0.099 1.12793,-0.29662 0.3385,-0.19763 0.54592,-0.44137 0.62115,-0.73122 l 1.35367,-4.42712 c 0.11292,-0.39525 -6e-5,-0.75091 -0.33861,-1.06712 -0.37616,-0.31621 -0.84624,-0.47439 -1.41047,-0.47439 h -25.89832 c -0.23182,0 -0.449286,-0.004 -0.673515,-0.006 z"
                                                style="stroke-width:0.04722502"/>
                                    </g>
                                </g>
                            </g>
                        </g>
                    </svg></button>
                <button data-curr="rur"><i class="fas fa-ruble-sign"></i></button>
                <button data-curr="usd"><i class="fas fa-dollar-sign"></i></button>
                <button data-curr="eur"><i class="fas fa-euro-sign"></i></button>
            </div>
            <div class="table-wrap clearfix"><!--Table -->
                <div class="table scrollbar-inner" id="tableChRepUserStats"></div>
            </div>
        {% endblock %}

    </div>
{% endblock %}

{% block extra_scripts %}
    <script src="{% static "js/church_statistics.bundle.js" %}"></script>
{% endblock %}